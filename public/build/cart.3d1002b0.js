(window.webpackJsonp=window.webpackJsonp||[]).push([["cart"],{"2oG/":function(e,t,r){"use strict";r("DQNa"),r("wLYn"),r("toAj"),r("eoL8"),r("07d7"),r("rNhl"),r("JfAA");function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currencyRate=1.18,this.currencyStringRule=this.currencyStringRule.bind(this)}var t,r,o;return t=e,(r=[{key:"currencyStringRule",value:function(e,t){return("EUR"===t?"â‚¬":"$")+(("EUR"===t?1:this.currencyRate)*parseFloat(e)).toFixed(2).toString()}}])&&n(t.prototype,r),o&&n(t,o),e}());t.a=o},VO4U:function(e,t,r){"use strict";r("pNMO"),r("4Brf"),r("0oug"),r("4mDm"),r("DQNa"),r("wLYn"),r("uL8W"),r("eoL8"),r("NBAS"),r("ExoC"),r("07d7"),r("SuFq"),r("JfAA"),r("PKPk"),r("3bBZ");var n=r("q1tI"),o=r.n(n);r("IP2g");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,r,n,a=u(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).state={value:e.value},t.setCurrency=t.setCurrency.bind(s(t)),t}return t=l,(r=[{key:"setCurrency",value:function(e){this.setState({value:e}),this.props.onChange(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("a",{type:"link",onClick:function(){return e.setCurrency("EUR")},className:"currency "+("EUR"===this.state.value?"currency-active":"")},"EUR"),o.a.createElement("a",{type:"link",onClick:function(){return e.setCurrency("USD")},className:"currency "+("USD"===this.state.value?"currency-active":"")},"USD"))}}])&&i(t.prototype,r),n&&i(t,n),l}(n.Component);t.a=d},XENs:function(e,t,r){},lya3:function(e,t,r){"use strict";r("pNMO"),r("4Brf"),r("0oug"),r("pjDv"),r("J30X"),r("4mDm"),r("+2oP"),r("brp2"),r("DQNa"),r("wLYn"),r("sMBO"),r("Tskq"),r("eoL8"),r("07d7"),r("JfAA"),r("PKPk"),r("3bBZ");function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cart=new Map,this.save=this.save.bind(this),this.exists=this.exists.bind(this),this.touch=this.touch.bind(this),this.reset=this.reset.bind(this),this.updateIdempotencyKey=this.updateIdempotencyKey.bind(this)}var t,r,o;return t=e,(r=[{key:"load",value:function(){var e=localStorage.getItem("cartItems");this.cart=null===e?new Map:new Map(JSON.parse(e))}},{key:"save",value:function(){localStorage.setItem("cartItems",JSON.stringify(n(this.cart))),localStorage.setItem("cartUpdated",Date.now().toString())}},{key:"exists",value:function(){return null!==localStorage.getItem("cartItems")}},{key:"touch",value:function(){this.exists()?localStorage.setItem("cartUpdated",Date.now().toString()):this.reset()}},{key:"reset",value:function(){this.cart.clear(),this.save()}},{key:"updateIdempotencyKey",value:function(){var e=this.generateIdempotencyKey();return localStorage.setItem("idempotencyKey",e),e}},{key:"generateIdempotencyKey",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=t.length,n=0;n<16;n++)e+=t.charAt(Math.floor(Math.random()*r));return e}},{key:"getIdempotencyKey",value:function(){var e;return null!==(e=localStorage.getItem("idempotencyKey"))&&void 0!==e?e:this.updateIdempotencyKey()}},{key:"setCurrency",value:function(e){localStorage.setItem("currencyCode",e)}},{key:"getCurrency",value:function(){var e;return null!==(e=localStorage.getItem("currencyCode"))&&void 0!==e?e:"EUR"}}])&&a(t.prototype,r),o&&a(t,o),e}();t.a=i},xZLW:function(e,t,r){"use strict";r.r(t);r("wLYn"),r("eoL8"),r("XENs"),r("SYky");var n=r("q1tI"),o=r.n(n),a=r("lya3"),i=(r("pNMO"),r("4Brf"),r("0oug"),r("yyme"),r("QWBl"),r("pjDv"),r("J30X"),r("4mDm"),r("2B1R"),r("E9XD"),r("+2oP"),r("DQNa"),r("sMBO"),r("uL8W"),r("NBAS"),r("ExoC"),r("07d7"),r("SuFq"),r("JfAA"),r("PKPk"),r("FZtP"),r("3bBZ"),r("vDqi")),c=r.n(i),u=r("IP2g"),l=r("wHSu"),s=r("2oG/");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,r,n,a=y(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={itemCount:e.itemCount},t.handleClickAddToCart=t.handleClickAddToCart.bind(p(t)),t.handleClickRemoveFromCart=t.handleClickRemoveFromCart.bind(p(t)),t}return t=i,(r=[{key:"handleClickAddToCart",value:function(e){this.setState((function(e){return{itemCount:e.itemCount+1}}),(function(){this.props.onCountChanged(this.props.item.id,this.state.itemCount)}))}},{key:"handleClickRemoveFromCart",value:function(e){this.setState((function(e){return{itemCount:e.itemCount>0?e.itemCount-1:0}}),(function(){this.props.onCountChanged(this.props.item.id,this.state.itemCount)}))}},{key:"render",value:function(){return 0===this.state.itemCount?"":o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-2"},o.a.createElement("p",null,this.props.item.id,". [pic]")),o.a.createElement("div",{className:"col-4"},o.a.createElement("p",null,this.props.item.title)),o.a.createElement("div",{className:"col-3"},o.a.createElement("p",null,s.a.currencyStringRule(this.props.item.price*this.state.itemCount,this.props.currencyCode))),o.a.createElement("div",{className:"col-3"},1===this.state.itemCount?o.a.createElement("button",{className:"btn btn-success btn-add-to-cart",id:"add-to-cart-"+this.props.item.id.toString(),onClick:this.handleClickRemoveFromCart},o.a.createElement(u.a,{icon:l.a})):o.a.createElement("button",{className:"btn btn-success btn-remove-from-cart",id:"remove-from-cart-"+this.props.item.id.toString(),onClick:this.handleClickRemoveFromCart},"-"),o.a.createElement("span",null,"x",this.state.itemCount),o.a.createElement("button",{className:"btn btn-success btn-add-to-cart",id:"add-to-cart-"+this.props.item.id.toString(),onClick:this.handleClickAddToCart},"+",s.a.currencyStringRule(this.props.item.price,this.props.currencyCode))))}}])&&d(t.prototype,r),n&&d(t,n),i}(n.Component);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var o=I(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(u,e);var t,r,n,i=O(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={cartStorage:new a.a},t.handleOrderSubmit=t.handleOrderSubmit.bind(P(t)),t}return t=u,(r=[{key:"componentDidMount",value:function(){this.validateForm()}},{key:"handleOrderSubmit",value:function(){var e=this;c()({method:"post",url:"/api/order",data:{items:C(this.props.cart.entries()),contacts:{username:document.getElementById("username").value,address:document.getElementById("userAddress").value,phone:document.getElementById("contactPhone").value},usdRate:1.15,totalPrice:this.props.totalPrice,idempotencyKey:this.state.cartStorage.getIdempotencyKey()}}).then((function(t){412!=t.status&&(200==t.status?(e.state.cartStorage.reset(),e.state.cartStorage.updateIdempotencyKey(),e.props.onDone()):e.props.onError())})).catch((function(){e.props.onError()}))}},{key:"validateForm",value:function(){0===[document.getElementById("username"),document.getElementById("userAddress"),document.getElementById("contactPhone")].reduce((function(e,t){var r,n;return""===t.value?((n=t.classList).add.apply(n,["border","border-danger"]),1):((r=t.classList).remove.apply(r,["border","border-danger"]),0)}),0)?document.getElementById("btnSubmitOrder").classList.remove("disabled"):document.getElementById("btnSubmitOrder").classList.add("disabled")}},{key:"render",value:function(){return o.a.createElement("div",{className:"mt-5"},o.a.createElement("h4",null,"Please fill in the form below to make an order:"),o.a.createElement("form",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"username",className:"col-sm-2 col-form-label"},"Name"),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("input",{type:"text",className:"form-control",id:"username",onChange:this.validateForm}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"userAddress",className:"col-sm-2 col-form-label"},"Address"),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("input",{type:"text",className:"form-control",id:"userAddress",onChange:this.validateForm}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"contactPhone",className:"col-sm-2 col-form-label"},"Phone"),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("input",{type:"tel",className:"form-control",id:"contactPhone",onChange:this.validateForm}))),o.a.createElement("button",{type:"button",id:"btnSubmitOrder",className:"btn btn-primary",onClick:this.handleOrderSubmit},"Submit order")))}}])&&E(t.prototype,r),n&&E(t,n),u}(n.Component),R=function(e){var t=e.handleClose,r=e.show,n=e.config,a=r?"modal display-block":"modal display-none";return o.a.createElement("div",{className:a},o.a.createElement("section",{className:"modal-main"},o.a.createElement("h4",null,n.title),o.a.createElement("p",null,n.text),o.a.createElement("button",{type:"button",className:"btn btn-primary float-right",onClick:t},"Close")))};function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=F(e);if(t){var o=F(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return T(this,r)}}function T(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,r,n,a=M(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={items:[],loading:!0,cartEmpty:!1,orderSubmitted:!1,deliveryPrice:0,currencyCode:e.currencyCode,modal:{title:"",text:""},showModal:!1,modalCallback:t.hideModal},t.itemRefs=[],t.loadItems=t.loadItems.bind(B(t)),t.handleCountChanged=t.handleCountChanged.bind(B(t)),t.getTotalPrice=t.getTotalPrice.bind(B(t)),t.hideModal=t.hideModal.bind(B(t)),t.handleOrderSubmitted=t.handleOrderSubmitted.bind(B(t)),t.handleOrderFailed=t.handleOrderFailed.bind(B(t)),t.setCurrencyCode=t.setCurrencyCode.bind(B(t)),t}return t=i,(r=[{key:"componentDidMount",value:function(){this.loadItems()}},{key:"loadItems",value:function(){var e=this;c()({method:"post",url:"/api/cart",data:{items:A(this.props.cart).map((function(e){return e[0]}))}}).then((function(t){var r=t.data;console.log("Loaded",r),e.itemRefs=Array(r.items.length).fill(null).map((function(){return o.a.createRef()}));var n=A(e.props.cart).reduce((function(e,t){return e+t[1]}),0);e.setState({items:r.items,loading:!1,cartEmpty:0===n,deliveryPrice:r.deliveryPrice})}))}},{key:"setCurrencyCode",value:function(e){console.log(s.a),this.setState({currencyCode:e})}},{key:"handleOrderSubmitted",value:function(){this.setState({orderSubmitted:!0,modal:{title:"Error occurred",text:"Order submit failed, please try one more time"},showModal:!0,modalCallback:function(){window.location="/"}})}},{key:"handleOrderFailed",value:function(){this.setState({modal:{title:"Error occurred",text:"Order submit failed, please try one more time"},showModal:!0,modalCallback:this.hideModal})}},{key:"hideModal",value:function(){this.setState({modal:{title:"",text:""},showModal:!1})}},{key:"handleCountChanged",value:function(e,t){this.props.onItemCountChanged(e,t);var r=A(this.props.cart).reduce((function(e,t){return e+t[1]}),0);this.setState({cartEmpty:0===r})}},{key:"getTotalPrice",value:function(){var e=this;return A(this.props.cart).reduce((function(t,r){return t+e.getItemPrice(r[0])*r[1]}),0)+this.state.deliveryPrice}},{key:"getItemPrice",value:function(e){var t=0;return this.state.items.forEach((function(r){r.id===e&&(t=r.price)})),t}},{key:"render",value:function(){var e=this;return this.state.orderSubmitted?o.a.createElement("div",null,o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},"Thank you for your order! We will deliver it within an hour."))):this.state.cartEmpty?o.a.createElement("div",null,o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},"Your cart is empty."))):o.a.createElement("div",null,o.a.createElement(R,{show:this.state.showModal,handleClose:this.state.modalCallback,config:this.state.modal}),this.state.loading?o.a.createElement("div",{className:"spinner-border",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")):this.state.items.map((function(t,r){var n;return o.a.createElement(v,{item:t,itemCount:null!==(n=e.props.cart.get(t.id))&&void 0!==n?n:0,onCountChanged:e.handleCountChanged,currencyCode:e.state.currencyCode,ref:e.itemRefs[r],key:r})}),this),o.a.createElement("div",{className:"mt-3"},"+",s.a.currencyStringRule(this.state.deliveryPrice,this.state.currencyCode)," for delvery"),o.a.createElement("div",{className:"mt-3"},"Total price: ",s.a.currencyStringRule(this.getTotalPrice(),this.state.currencyCode)),this.state.cartEmpty?"":o.a.createElement(N,{onDone:this.handleOrderSubmitted,onError:this.handleOrderFailed,cart:this.props.cart,totalPrice:this.getTotalPrice()}))}}])&&D(t.prototype,r),n&&D(t,n),i}(n.Component),U=r("i8i4"),K=r.n(U),J=r("VO4U");function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var W=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cartStorage=new a.a,this.currencyCode=this.cartStorage.getCurrency(),this.cartStorage.load(),this.init=this.init.bind(this),this.handleItemCountChanged=this.handleItemCountChanged.bind(this),this.handleCurrencyChange=this.handleCurrencyChange.bind(this)}var t,r,n;return t=e,(r=[{key:"init",value:function(e,t){this.cartStorage.exists()||(window.location="/"),this.CartElement=o.a.createElement(L,{cart:this.cartStorage.cart,onItemCountChanged:this.handleItemCountChanged,currencyCode:this.currencyCode}),this.CurrnecyElement=o.a.createElement(J.a,{value:this.currencyCode,onChange:this.handleCurrencyChange}),K.a.render(this.CurrnecyElement,document.getElementById(t)),this.cartObject=K.a.render(this.CartElement,document.getElementById(e))}},{key:"handleCurrencyChange",value:function(e){this.cartStorage.setCurrency(e),this.currencyCode=e,this.cartObject.setCurrencyCode(e)}},{key:"handleItemCountChanged",value:function(e,t){this.cartStorage.cart.set(e,t>0?t:0),this.cartStorage.save()}}])&&q(t.prototype,r),n&&q(t,n),e}());document.addEventListener("DOMContentLoaded",(function(){W.init("cart","currency-container")}));t.default=W}},[["xZLW","runtime",0,1]]]);